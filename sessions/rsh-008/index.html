<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/img/logo-hashbang.ico">

    <title>Research Software Hour</title>

    
      <meta name="twitter:card" content="summary" />
      <meta name="twitter:image" content="https://researchsoftwarehour.github.io/img/logo-hashbang-big.png" />
    

    
      <meta name="description" content="Online show discussing scientific computing and research software designed to
provide the informal kind of skills you don&#x27;t learn academically.
" />
      <meta name="twitter:description" content="Online show discussing scientific computing and research software designed to
provide the informal kind of skills you don&#x27;t learn academically.
" />
    

    
      <meta name="twitter:title" content="RSH 8: Command line arguments and running tasks in parallel" />
    

    <link href="https://fonts.googleapis.com/css?family=Archivo+Narrow" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" integrity="sha256-UXesixbeLkB/UYxVTzuj/gg3+LMzgwAmg3zD+C4ZASQ=" crossorigin="anonymous">

    <link href="/css/style.css" rel="stylesheet">
  </head>

  <body>

    <div class="ui container bottom-buffer">
      <div class="ui secondary pointing stackable menu">
        <div class="right menu">
          
            <a class="item" href="/" id="fonts">Home</a>
          
            <a class="item" href="/about/" id="fonts">About</a>
          
            <a class="item" href="/topics/" id="fonts">Topics</a>
          
            <a class="item" href="/watch/" id="fonts">How to watch</a>
          
            <a class="item" href="https://twitch.tv/RSHour" id="fonts">twitch.tv&#x2F;RSHour</a>
          
        </div>
      </div>

      <div class="top-buffer">
        
  <h1>RSH 8: Command line arguments and running tasks in parallel</h1>
  <i>From small stuff to scriptable</i>

  <p><a href="https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=3PCJSFaIo9U&amp;list=PLpLblYHCzJAB6blBBa0O2BEYadVZV3JYf">Video <i class="youtube red icon"></i></a></p>

  <h2>Collaborative notes taken during the session</h2>

  
    <h3 id="icebreaker">Icebreaker</h3>
<p>Where are you watching from and how is the weather at your place?</p>
<ul>
<li>Tromso, 5 C, heavy rain since days</li>
<li>Helsinki, 15-20C, cloudy but not much rain (feels like +1)</li>
<li>Metro between Kamppi and Rautatieasema, dark outside</li>
<li>Stockholm, 13.3C, dark but dry</li>
</ul>
<h3 id="first-time-with-command-line">First time with command line</h3>
<ul>
<li>Commodore 64 :D (yes I am that old) +1</li>
<li>ZX spectrum</li>
<li>FreeBSD vtty</li>
</ul>
<h3 id="links-mentioned-during-the-stream">Links mentioned during the stream</h3>
<ul>
<li>http://us-rse.org/rse-stories/</li>
<li>https://github.com/ResearchSoftwareHour/demo-parallel-tasks</li>
</ul>
<h3 id="questions">Questions</h3>
<ul>
<li>
<p>bash: &quot;for&quot; unfortunately does not end with &quot;rof&quot;</p>
<ul>
<li>good point :-)</li>
<li>haha, great!</li>
</ul>
</li>
<li>
<p>I am not familiar with this expression. It get's parsed? What does it mean, please?</p>
<ul>
<li>Intuitively: &quot;parsed&quot; as in &quot;read and understood&quot; by the script</li>
</ul>
</li>
<li>
<p>Have a look at <a href="https://github.com/google/python-fire#basic-usage">fire</a> which is like click, but less boilerplate (but maybe not so powerful as click) +1</p>
<ul>
<li>Fairly used, but not as  popular as click.</li>
</ul>
</li>
<li>
<p>+1 for reading from file (especially a struct like written in json)</p>
</li>
<li>
<p>What are the underscores for, please?</p>
<ul>
<li>with <code>-I _</code> I instructed xargs to replace underscores by the files it got from <code>find</code>, this was my choice, I could have done <code>-I x</code> instead and then it would replace &quot;x&quot;</li>
</ul>
</li>
<li>
<p>Python:</p>
</li>
</ul>
<pre data-lang="py" style="background-color:#f5f5f5;color:#1f1f1f;" class="language-py "><code class="language-py" data-lang="py"><span style="color:#72ab00;">from </span><span>multiprocessing </span><span style="color:#72ab00;">import </span><span>Pool
</span><span style="color:#72ab00;">from </span><span>pathlib </span><span style="color:#72ab00;">import </span><span>Path
</span><span>
</span><span style="color:#72ab00;">def </span><span style="color:#c23f31;">task</span><span>(</span><span style="color:#5597d6;">filename</span><span>):
</span><span>    </span><span style="color:#7f8989;"># computationally intensive task
</span><span>    </span><span style="color:#7f8989;"># or even shell process using os.system(..) or subprocess.run(..)
</span><span>    </span><span style="color:#b39f04;">print</span><span>(filename)
</span><span>
</span><span>
</span><span style="color:#72ab00;">with </span><span style="color:#5597d6;">Pool</span><span>() </span><span style="color:#72ab00;">as </span><span>pool:
</span><span>    files </span><span style="color:#72ab00;">= </span><span>Path.</span><span style="color:#5597d6;">cwd</span><span>().</span><span style="color:#5597d6;">glob</span><span>(</span><span style="color:#d07711;">&quot;*.jpg&quot;</span><span>)
</span><span>    pool.</span><span style="color:#5597d6;">map</span><span>(task, files)
</span></code></pre>
<h3 id="ideas-that-were-suggested-via-twitch-chat">Ideas that were suggested via Twitch chat</h3>
<ul>
<li>offer material both for novices and experts</li>
<li>working with grib and netcdf files</li>
<li>machine learning tutorial</li>
</ul>

  

  

      </div>

      <div class="top-buffer">
        <hr>

        <div class="ui horizontal list">
          <div class="item">
            <div class="content">
              <i class="twitch violet icon"></i>
              <a class="item"
                 target="_blank"
                 href="https://twitch.tv/RSHour">twitch</a>
            </div>
          </div>
          <div class="item">
            <div class="content">
              <i class="file outline icon"></i>
              <a class="item"
                 target="_blank"
                 href="https://hackmd.io/@researchsoftwarehour/questions">hackmd</a>
            </div>
          </div>
          <div class="item">
            <div class="content">
              <i class="youtube red icon"></i>
              <a class="item"
                 target="_blank"
                 href="https://www.youtube.com/playlist?list=PLpLblYHCzJAB6blBBa0O2BEYadVZV3JYf">videos</a>
            </div>
          </div>
          <div class="item">
            <div class="content">
              <i class="github icon"></i>
              <a class="item"
                 target="_blank"
                 href="https://github.com/ResearchSoftwareHour">ResearchSoftwareHour</a>
            </div>
          </div>
          <div class="item">
            <div class="content">
              <i class="github icon"></i>
              <a class="item"
                 target="_blank"
                 href="https://github.com/rkdarst">rkdarst</a>
            </div>
          </div>
          <div class="item">
            <div class="content">
              <i class="github icon"></i>
              <a class="item"
                 target="_blank"
                 href="https://github.com/bast">bast</a>
            </div>
          </div>
          <div class="item">
            <div class="content">
              <i class="twitter blue icon"></i>
              <a class="item"
                 target="_blank"
                 href="https://twitter.com/coderefine">coderefine</a>
            </div>
          </div>
          <div class="item">
            <div class="content">
              <i class="twitter blue icon"></i>
              <a class="item"
                 target="_blank"
                 href="https://twitter.com/SciCompAalto">SciCompAalto</a>
            </div>
          </div>
          <div class="item">
            <div class="content">
              <i class="twitter blue icon"></i>
              <a class="item"
                 target="_blank"
                 href="https://twitter.com/__radovan">__radovan</a>
            </div>
          </div>
        </div>
      </div>

    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js" integrity="sha256-CgSoWC9w5wNmI1aN8dIMK+6DPelUEtvDr+Bc2m/0Nx8=" crossorigin="anonymous"></script>

  </body>
</html>
